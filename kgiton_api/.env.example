# Server Configuration
PORT=3000
NODE_ENV=development

# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_PUBLISHABLE_KEY=your-publishable-anon-key
SUPABASE_SECRET_KEY=your-secret-service-role-key

# API Configuration
API_KEY_PREFIX=kgiton_

# Password Encryption Configuration
# Generate a secure 64-character hex key using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=your-64-character-hex-encryption-key-here

# Payment Webhook Configuration (Optional)
WEBHOOK_SECRET=your-webhook-secret

# ============================================
# PAYMENT GATEWAY CONFIGURATION
# ============================================
# Choose your payment gateway provider
# Options: winpay | xendit | midtrans | manual
PAYMENT_GATEWAY_PROVIDER=winpay

# Enable/disable payment gateway integration
# Set to 'false' to use manual bank transfer mode
PAYMENT_GATEWAY_ENABLED=true

# Redirect URL after payment complete
PAYMENT_REDIRECT_URL=https://your-app.com/payment/complete

# Payment expiry settings (in minutes)
PAYMENT_CHECKOUT_EXPIRY_MINUTES=120
PAYMENT_VA_EXPIRY_MINUTES=1440

# ============================================
# WINPAY CONFIGURATION
# ============================================
# Get credentials from https://dashboard.winpay.id

# --- SNAP API (Virtual Account & eWallet) ---
# Partner ID from Winpay Dashboard
WINPAY_PARTNER_ID=your-partner-id

# RSA Private Key for SNAP API signature (choose one method):
# Option 1: Path to PEM file
WINPAY_PRIVATE_KEY_PATH=./keys/winpay-private-key.pem
# Option 2: Direct key content (for Docker/Cloud - use \n for newlines)
# WINPAY_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----"

# Winpay Public Key (for verifying callbacks)
WINPAY_PUBLIC_KEY_PATH=./keys/winpay-public-key.pem

# --- Checkout Page API ---
# Key and Secret from Winpay Dashboard
WINPAY_CHECKOUT_KEY=your-checkout-key
WINPAY_CHECKOUT_SECRET=your-checkout-secret

# --- Common Settings ---
# URL to redirect after payment complete
WINPAY_BACK_URL=https://your-app.com/payment/complete

# Enable/disable Winpay integration (set to 'false' to use manual mode)
WINPAY_ENABLED=true

# ============================================
# XENDIT CONFIGURATION (Optional)
# ============================================
# Get credentials from https://dashboard.xendit.co
XENDIT_SECRET_KEY=
XENDIT_PUBLIC_KEY=
XENDIT_WEBHOOK_TOKEN=

# ============================================
# MIDTRANS CONFIGURATION (Optional)
# ============================================
# Get credentials from https://dashboard.midtrans.com
MIDTRANS_SERVER_KEY=
MIDTRANS_CLIENT_KEY=
MIDTRANS_MERCHANT_ID=

# ============================================
# MANUAL PAYMENT CONFIGURATION
# ============================================
# For manual bank transfer mode
MANUAL_BANK_NAME=BCA
MANUAL_BANK_ACCOUNT_NUMBER=1234567890
MANUAL_BANK_ACCOUNT_NAME=PT KGITON DIGITAL INDONESIA
MANUAL_PAYMENT_INSTRUCTIONS=Transfer to the account above and send proof of payment via WhatsApp.
MANUAL_PAYMENT_EXPIRY_HOURS=24
MANUAL_PAYMENT_ADMIN_TOKEN=your-admin-verification-token
# ============================================

# SUPABASE SMTP Configuration
SMTP_HOST=smtp-relay.example.com
SMTP_PORT=587
SMTP_USER=user@example.com
SMTP_PASSWORD=your-smtp-password
SMTP_FROM_EMAIL=noreply@example.com
APP_URL=http://localhost:3000

# Huba API Webhook Configuration
# URL where Huba API receives webhooks
HUBA_WEBHOOK_URL=http://localhost:3001/api/webhooks/kgiton
# Shared secret for HMAC signature verification (must match Huba API's KGITON_WEBHOOK_SECRET)
# node -e "console.log('HUBA_WEBHOOK_SECRET=' + require('crypto').randomBytes(32).toString('hex'))"
HUBA_WEBHOOK_SECRET=your_webhook_secret_here
# Enable/disable webhook delivery
HUBA_WEBHOOK_ENABLED=true